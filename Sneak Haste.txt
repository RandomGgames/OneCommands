/summon FallingSand ~ ~1 ~ {Block:stained_glass,Data:5,Time:1,Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~ ~-2 ~1 ~2 ~-2 ~3 quartz_block},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~ ~-2 ~1 ~2 ~-1 ~3 stained_glass 5},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~ ~-3 ~2 ~1 ~-2 ~2 air},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/setblock ~-1 ~-5 ~2 stone_button 2},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/summon FallingSand ~ ~-5 ~2 {Block:command_block,Data:1,Time:1,TileEntityData:{Command:/scoreboard objectives remove sneak},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,TileEntityData:{auto:1,Command:/fill ~-1 ~-2 ~-1 ~2 ~1 ~1 air}}]}},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/summon FallingSand ~1 ~-6 ~2 {Block:repeating_command_block,Data:1,Time:1,TileEntityData:{auto:1,Command:/effect @a[score_sneak_min=1] minecraft:haste 1 2 true},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,TileEntityData:{auto:1,Command:/scoreboard players set @a[score_sneak_min=1] sneak 0},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~-1 ~ ~-1 ~1 ~ ~1 quartz_block}}]}]}},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/scoreboard objectives add sneak stat.sneakTime},Passengers:[{id:FallingSand,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~ ~ ~ ~ ~-8 ~ air}}]}]}]}]}]}]}]}]}