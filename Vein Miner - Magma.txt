/summon falling_block ~ ~1 ~ {Block:stained_glass,Time:1,Data:5,Passengers:[{id:falling_block,Block:redstone_block,Time:1,Passengers:[{id:falling_block,Block:activator_rail,Time:1,Data:8,Passengers:[{id:commandblock_minecart,Command:/fill ~ ~-3 ~1 ~2 ~8 ~3 magma},{id:commandblock_minecart,Command:/fill ~ ~-2 ~1 ~2 ~7 ~3 stained_glass 12},{id:commandblock_minecart,Command:/setblock ~ ~-2 ~2 command_block 1 replace {Command:/fill ~-1 ~-1 ~-1 ~2 ~10 ~1 air}},{id:commandblock_minecart,Command:/setblock ~-1 ~-3 ~2 stone_button 2},{id:commandblock_minecart,Command:/setblock ~1 ~-2 ~2 command_block 1 replace {auto:1,Command:/scoreboard objectives add vnmnrMagma dummy}},{id:commandblock_minecart,Command:/setblock ~1 ~-1 ~2 repeating_command_block 1 replace {auto:1,Command:/scoreboard players add @e[type=Item,tag=] vnmnrMagma 1 {Item:{id:"minecraft:magma"}}}},{id:commandblock_minecart,Command:/setblock ~1 ~0 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~ ~1 ~ iron_ore 0 /setblock ~ ~1 ~ air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~1 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~ ~-1 ~ magma 0 /setblock ~ ~-1 ~ air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~2 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~1 ~ ~ magma 0 /setblock ~1 ~ ~ air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~3 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~-1 ~ ~ magma 0 /setblock ~-1 ~ ~ air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~4 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~ ~ ~1 magma 0 /setblock ~ ~ ~1 air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~5 ~2 chain_command_block 1 replace {auto:1,Command:/execute @e[type=Item,score_vnmnrMagma_min=1,score_vnmnrMagma=1] ~ ~ ~ detect ~ ~ ~-1 magma 0 /setblock ~ ~ ~-1 air 0 destroy}},{id:commandblock_minecart,Command:/setblock ~1 ~6 ~2 chain_command_block 1 replace {auto:1,Command:/entitydata @e[type=Item,score_vnmnrMagma_min=1] {Tags:["vnmnrMagma"]}}},{id:commandblock_minecart,Command:/setblock ~1 ~7 ~2 chain_command_block 1 replace {auto:1,Command:/scoreboard players reset @e[type=Item,tag=vnmnrMagma]}},{id:commandblock_minecart,Command:/tellraw @a [{"text":"\nRandomGgames' Magma Vein Miner has been installed","color":"gold"},{"text":"\nBreak one piece of iron and the entire vein will be destroied\n","color":"gray"}]},{id:commandblock_minecart,Command:/setblock ~ ~ ~ air,Passengers:[{id:falling_block,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/kill @e[type=commandblock_minecart,r=2]},Passengers:[{id:falling_block,Block:command_block,Time:1,TileEntityData:{auto:1,Command:/fill ~ ~-3 ~ ~ ~ ~ air}}]}]}]}]}]}